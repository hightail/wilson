/* Wilson Client Framework Wed, 28 Sep 2016 04:44:33 GMT */

"use strict";!function(e,n,t){function r(e){function r(e,n){return e+t.upperFirst(t.camelCase(n))}function o(e,n,r){if(!t.isString(n))throw new Error(e+" name must be a string!!!");if(!e)throw new Error("Failed to validate definition params. Type is null or undefined!!");var i=null,o="component"===e?"controller":"primary";if(t.isEmpty(r)?i="definition is empty and cannot be processed.":t.isFunction(r)||t.isArray(r)||(i="definition must be a Function or an Array!!!"),i)throw new Error(e+" ["+n+"] "+o+" "+i)}function a(e,r){return["ComponentFactoryService","$injector","$scope",function(i,o,a){var s=this,c=n.element("."+d.app.selectors.component+"-"+t.kebabCase(e));i.init(e,a,c,null,s),c.data("$WilsonComponentController",s),o.invoke(r,s,{$scope:a,$element:c}),a.checkViewDependencies()}]}function s(e,n){return["ComponentFactoryService","$injector","$scope","$element","$attrs",function(t,r,i,o,a){var s=this;t.init(e,i,o,a,s),o.data("$WilsonComponentController",s),r.invoke(n,s,{$scope:i,$element:o,$attrs:a}),i.parentComponent&&i.parentComponent.registerViewDependency()}]}function c(e){return e?function(n,t,r,i){e(n,t,r,i),n.checkViewDependencies()}:function(e){e.checkViewDependencies()}}function u(e,n){var r=t.findIndex(e,{path:null});if(r===-1)throw new Error("Null route MUST be specified in routes!");if(r<e.length-1)throw new Error("Null route MUST be the last specified route!");t.each(e,function(t){f(t,e,n)})}function l(e,n){var r=t.find(n,{path:e});return r=r||t.find(n,{path:null}),r&&r.options?t.clone(r.options):{}}function f(e,r,i){if(!i)throw new Error("No RouteProvider included! Cannot create route!");if(t.isUndefined(e.path))throw new Error("Route information is invalid! Missing path definition: \n"+JSON.stringify(e,void 0,2));var o=null,a={controller:buildClassName(d.app.selectors.component,e.component),resolve:{routeLabel:[function(){return e.label||e.component}],routeInfo:["$route","$q","$location","AppStateService","IRouteService",function(n,i,a,s,c){var u=a.path(),f=l(n.current.originalPath,r);return o=c.handleRouteChange(u,f,e).then(function(){var r=t.extend(f,t.isObject(f.defaultParams)?f.defaultParams:{},n.current.params);return s.setPersistentValues(e.component,r),r},i.reject)}],dependencies:["$q","IRouteService",function(n,t){var r=[];return r.push(t.loadDependencies?t.loadDependencies(e):n.when()),r.push(t.loadSession?t.loadSession():n.when()),n.allSettled(r)}],$template:["ComponentLoaderService","$route","$q","$window","$templateCache","$rootScope","IRouteService",function(t,r,i,a,s,c,u){return o=o||i.when(),o.then(function(){return e.title?c.page.title=u.translateTitle(e.title):delete c.page.title,t.load(e.component)},i.reject).then(function(t){return t.version===n.wilson.config.app.version?s.get(e.component):(console.log("Component is out of date! Reloading app."),void a.location.reload())},function(n){return console.log("Failed to load component ["+e.component+"]: Unknown server error."),i.reject("<div>Failed to Load!!!</div>")})}],retryOriginalRoute:["$location","$route","localStorageService",function(e,n,r){var i=r.get("retryRoute");t.isObject(i)&&e.path()===i.path?i.attempt>0?i.originalPath&&i.path!==i.originalPath&&(r.remove("retryRoute"),e.path(i.originalPath)):(i.attempt++,r.add("retryRoute",i)):r.remove("retryRoute")}]}};null!==e.path?i.when(e.path,a):i.otherwise(a)}var p=e,d=null,v={components:{},behaviors:{},services:{},filters:{}},g=null,_=null,E=null;this.utils={},this.config=d,this.setAppConfig=function(e){d=e},this.service=function(e,n){if(o("service",e,n),!v.services[e]){v.services[e]=!0;var t=E||p;t.factory(e,n)}},this.filter=function(e,n){o("filter",e,n);var r=t.camelCase(e);v.filters[r]||(v.filters[r]=!0,p.filter(r,t.isArray(n)?n:function(){return n}))},this.component=function(e,n){var u=r(d.app.selectors.component,e);if(!v.components[u]){v.components[u]=!0;var l={restrict:"EA",templateUrl:e.toLowerCase(),replace:!0,scope:{}};t.extend(l,n),o("component",e,l.controller);var f=!1;if(l.page){l.controller=a(e,l.controller),f=_||i;var p=f.register||f.controller;p(u,l.controller)}else l.controller=s(e,l.controller),l.link=c(l.link),f=g||i,f.directive(u,function(){return l})}},this.behavior=function(e,n){var t=r(d.app.selectors.behavior,e);if(!v.behaviors[t]){v.behaviors[t]=!0,o("behavior",e,n);var a=g||i;a.directive(t,n)}},p.config(["$interpolateProvider","$locationProvider","i18nextServiceProvider","$routeProvider","localStorageServiceProvider","$compileProvider","$controllerProvider","$provide",function(e,r,i,o,a,s,c,l){var f=n.wilson.config;g=s,_=c,E=l,e.startSymbol("[["),e.endSymbol("]]"),i.init({lng:f.i18n.lng,resStore:f.i18n.resStore,ns:{namespaces:f.i18n.namespaces},fallbackToDefaultNS:!1,nsseparator:":::",keyseparator:"::",useCookie:!1,useLocalStorage:f.i18n.useLocalStorage,localStorageExpirationTime:f.i18n.localStorageExpirationTime,supportedLngs:t.map(f.i18n.supportedLngs,"locale"),languageData:f.i18n.supportedLngs,fallbackLng:f.i18n.fallbackLng,sendMissing:f.i18n.sendMissing,sendMissingTo:"all",resPostPath:"/locales/add/__lng__/__ns__",resSetPath:"/client/locales/__lng__/__ns__.json",resGetPath:"/client/locales/__lng__/__ns__.json"}),a.setPrefix(f.app.localStoragePrefix||"wilson"),r.html5Mode(!0).hashPrefix("!"),u(f.routes,o)}]),p.run(["$rootScope","$templateCache","$location","$timeout",function(e,n,t,r){var i=function(){};e.page={title:"Wilson"},e.triggerDigest=function(){r(i)},e.bindToDigest=function(n,t){t=t||this;var r=function(){n.apply(t,arguments),e.triggerDigest()};return n?r:i}}])}var i=n.module("wilson",["ngRoute","LocalStorageModule","wilson.config","wilson.i18n","wilson.prerender","wilson.decorators"]),o=new r(i);n.wilson=e.wilson=o}(this,angular,_),angular.wilson.service("AppStateService",["localStorageService",function(e){var n=function(n,t,r){var i=r,o=e.get(n);return o&&t&&(i=o[t]),(_.isUndefined(i)||_.isNull(i))&&(i=r),i},t=function(n,t){var r=e.get(n)||{};return _.extend(r,t),e.add(n,r),r},r=function(e,n,r){var i={};i[n]=r,t(e,i)},i={getPersistentValue:n,setPersistentValue:r,setPersistentValues:t};return i}]),angular.wilson.service("ComponentFactoryService",["$rootScope","$timeout","StateMachineService","i18nextService","AppStateService","TranslationOverrideService","ComponentPrerenderService",function(e,n,t,r,i,o,a){function s(){}function c(e){for(var n=e.$parent;n&&!_.has(n,"componentCName");)n=n.$parent;return n||e.$parent}var u=function(e,u,l,f,p){var d=null,v={},g={},E=c(u);u.componentCName=p.componentCName=e,u.parentComponent=E,u.stateMachine={current:"NoStateMachine"};var h=!!f&&f.expose;h&&(E[h]=u),u.translate=p.translate=function(n,t){if(t=t||{},"string"==typeof t.ns&&""!==t.ns||(t.ns=e),!g[n])if(v[n])t.ns=v[n];else if(o.hasOverride(t.ns,n)){for(var i=u.parentComponent;null!==i;i=i.parentComponent)if(o.hasOverrideForNamespace(t.ns,n,i.componentCName)){t.ns=v[n]=i.componentCName;break}t.ns===e&&(g[n]=!0)}return r.translate(n,t)},u.overrideText=p.overrideText=function(n,t,r){o.addOverride(n,e,t),p.translate(t,{defaultValue:r})},u.defaultValue=function(e,n){var t=u[e];return(_.isUndefined(t)||_.isNull(t))&&(u[e]=n),u[e]},u.triggerDigest=function(){n(s)},u.bindToDigest=function(e,n){n=n||this;var t=function(){e.apply(n,arguments),u.triggerDigest()};return e?t:s},p.setState=function(e,n){n=n||function(){};var r=u.stateMachine;if(e){var i,o=e.initial;if(f){var a=f.initialState;a&&t.hasState(e,a)&&(i=a)}var s=i||o;e.initial=s,r=u.stateMachine=t.create(e)}n(r)},p.getPersistentValue=function(n,t){return i.getPersistentValue(e,n,t)},p.setPersistentValue=function(n,t){return i.setPersistentValue(e,n,t)},p.setPersistentValues=function(n){return i.setPersistentValues(e,n)},p.watchAndPersist=function(e,n){u.$watch(e,function(n){p.setPersistentValue(e,n)}),n=p.getPersistentValue(e,n),u[e]=n},p.auto={},p.auto.watch=function(e,n){var t=u.$watch(e,n),r=u.$on("$destroy",function(){t(),r()})},p.auto.add=function(e,n){e.add(n);var t=u.$on("$destroy",function(){e.has(n)&&e.remove(n),t()})},p.auto.on=function(e,n){var t=u.$on(e,n),r=u.$on("$destroy",function(){t(),r()})},p.auto.afterDigest=function(e){function t(e){u.$$destroyed||(d=u.$watch(function(){d(),n(function(){e(),t(e)},0,!1)}))}t(e)},a.addPrerenderMethods(u,p)},l={init:u};return l}]),angular.wilson.service("ComponentLoaderService",["ResourceLoaderService","$q","$http","$compile","$rootScope",function(e,n,t,r,i){var o=angular.wilson.config,a=o.app.version||"none",s=o.app.updateInterval.split(" "),c={count:s[0],unit:s[1]},u="",l=o.cdn;l&&l.host&&"false"!==l.host&&(u=l.protocol+"://"+l.host,e.setResourceHost(u));var f={},p=moment(),d=function(){var e=n.defer(),r=o.app.mountpath+"/version";return t.get(r).success(e.resolve).error(e.reject),e.promise},v=function(e){var r=n.defer(),i=_.sprintf("%s/%s/component/%s",o.app.mountpath,a,e);return i=angular.wilson.utils.path.join(u,i),o.app.connectionFilters&&(i+=_.sprintf("/%s",o.app.connectionFilters)),t.get(i).success(function(e){p=moment(),r.resolve(e)}).error(r.reject),r.promise},g=function(t){var r=n.defer(),i=f[t];return i?moment().diff(p,c.unit)>c.count?d().then(function(e){e.version!==a?r.resolve({version:"out-of-date"}):(p=moment(),r.resolve(i))},r.reject):r.resolve(i):v(t).then(function(n){a===n.version?e.loadBundle(n,function(){f[t]=n,r.resolve(n)},function(){r.reject({message:"Failed to load resources for "+t})}):r.resolve(n)},r.reject),r.promise},E={load:g};return E}]),angular.module("wilson.prerender",[]).provider("ComponentPrerenderService",["$compileProvider",function(e){function n(e){var n=angular.wilson.config.prerender;n&&n.enableLogs&&console.log(e)}function t(){e.directive("ngRepeat",["$timeout",function(e){return{restrict:"A",priority:-1,require:["?ngRepeat","^?WilsonComponent"],link:function(e,n,t,r){if(!window.prerenderReady){var i=(r[0],r[1]);e.$first&&i.registerViewDependency(),e.$last&&i.defferedResolveViewDependency()}}}}])}window.prerenderReady=!1,this.$get=["$timeout",function(e){function r(t,r){function i(){u++}function o(e){e=e||1,u>=e?u-=e:n("ERROR: Attempt to resolve more view deps than were added"),0===u&&(n("All view dependencies have resolved for component "+t.componentCName),t.renderComplete=!0,t.parentComponent&&t.parentComponent.componentCName?t.parentComponent.resolveViewDependency():(n("PRERENDER COMPLETE!!!"),window.prerenderReady=!0))}function a(){l<1?(l++,e(function(){e(function(){r.resolveViewDependency(l),l=0},0)},0)):l++}function s(){e(function(){e(function(){0===u&&t.parentComponent&&t.parentComponent.componentCName&&t.parentComponent.resolveViewDependency()},0)},0)}function c(e,n){r.registerViewDependency(),n||(n=function(e){return!_.isEmpty(e)});var i=t.$watch(e,function(e){n(e)&&(i(),r.defferedResolveViewDependency())})}var u=0,l=0,f={registerViewDependency:i,registerDataDependency:c,checkViewDependencies:s,resolveViewDependency:o,defferedResolveViewDependency:a};_.merge(t,f),_.merge(r,f)}function i(){}t();var o={addPrerenderMethods:r,deregisterPrerenderNgRepeat:i};return o}]}]),angular.module("wilson.decorators",[]).config(["$provide",function(e){e.decorator("$q",["$delegate",function(e){var n=e;return n.allSettled=n.allSettled||function(e){function t(e){return n.when(e).then(function(e){return{state:"fulfilled",value:e}},function(e){return{state:"rejected",reason:e}})}var r=angular.isArray(e)?[]:{};return angular.forEach(e,function(e,n){r.hasOwnProperty(n)||(r[n]=t(e))}),n.all(r)},n}])}]),angular.wilson.service("DeprecationService",function(){function e(e,n,t,r){return function(){return console.log(_.sprintf("Warning: %s() is deprecated. Use %s() instead",t,r)),e.apply(n,_.toArray(arguments))}}var n={deprecateFunction:e};return n}),angular.wilson.service("ParserFactoryService",["$injector",function(e){var n=function(n,t){if("function"!=typeof n)throw new Error("Error creating parser. Param parseMethod is not a function!");return"function"!=typeof t&&(t=function(e){return e}),function(){var r=n,i=t,o=this;this.parse=function(n){var t=_.toArray(arguments);return t.unshift(e),r.call(o,t)},this.serialize=function(n){var t=_.toArray(arguments);return t.unshift(e),i.apply(o,t)},this.embellish=function(n){var t=_.toArray(arguments);t.unshift(e);var i=r.apply(o,t);return angular.wilson.embellishModel(n,i)},this.embellishCollection=function(e){var n=Array.prototype.slice.call(arguments);n.shift(),_.each(e,function(t,r){n.unshift(t),e[r]=o.embellish.apply(o,n),n.shift()})}}},t={create:n};return t}]),angular.wilson.service("ResourceLoaderService",["$templateCache",function(e){var n={},t={},r="";$.ajaxSetup({cache:!0});var i=function(e){r=e},o=function(e,t){t=t||$.noop;var i=angular.wilson.utils.path.join(r,e);n[e]?t():(n[e]=!1,$.getScript(i).done(function(r,i){n[e]=!0,t()}).fail(function(n,r,i){console.log(_.sprintf("ERROR: %s FAILED TO LOAD",e)),t(!1)}))},a=function(n,r,i){return!t[n]&&(t[n]=!0,e.put(n,i),!0)},s=function(e,r,i){r=r||$.noop;var s=_.difference(e.scripts,_.keys(n)),c=_.difference(_.map(e.templates,"id"),_.keys(t));_.each(c,function(n){var t=_.find(e.templates,{id:n});a(t.id,t.type,t.data)}),async.each(s,function(e,n){o(e,n)},function(e){e?i():r()})},c={setResourceHost:i,loadScript:o,loadTemplate:a,loadBundle:s};return c}]),angular.wilson.service("StateMachineService",["$timeout",function(e){function n(n){var r=n.callbacks||{},i=n.timeouts||[];_.each(i,function(n){var i="onenter"+n.state;r[i]=t.preprendCallback(r,i,function(t,r,i){var o=this,a=function(){o[n.timeoutEvent]()};e.cancel(o.curTimeout),o.curTimeout=e(a,n.duration)}),i="onleave"+n.state,r[i]=t.preprendCallback(r,i,function(){var n=this;e.cancel(n.curTimeout)}),n.refreshEvent&&(i="onbefore"+n.refreshEvent,r[i]=t.preprendCallback(r,i,function(e,t,r,i){if(t===n.state){var o=this;o["onenter"+n.state](e,t,r,i)}}))}),n.callbacks=r}var t=_.extend({},StateMachine);return t.create=function(e,r){e.error=e.error||function(){},n(e);var i=StateMachine.create(e,r);return i.states=t.getStates(e),i},t.preprendCallback=function(e,n,t){var r=e[n],i=function(e,n,i,o){t.apply(this,[e,n,i,o]),r&&r.apply(this,[e,n,i,o])};return i},t.getStates=function(e){function n(e){_.isArray(e)||(e=[e]),t=t.concat(e)}var t=[],r=e.events||[];return _.each(r,function(e){n(e.to),n(e.from)}),t=_.uniq(t)},t.hasState=function(e,n){var r=t.getStates(e);return _.indexOf(r,n)>=0},t}]),angular.wilson.service("TranslationOverrideService",function(){var e={},n=function(n,t,r){var i=e[n];i||(i=e[n]={});var o=i[r];o||(o=i[r]={});var a=o[t];a||(o[t]=!0)},t=function(n,t){return e[n]&&e[n][t]},r=function(n,t,r){return e[n]&&e[n][t]&&e[n][t][r]},i={addOverride:n,hasOverride:t,hasOverrideForNamespace:r};return i}),angular.module("wilson.i18n",[]).provider("i18nextService",function(){function e(n,t,r,i){return _.isObject(n)||_.isArray(n)?(_.each(n,function(n,t,r){r[t]=e(n,t,r,i)}),r[t]):i(n,t,r)}function n(n,t){return t=t||_.identity,_.isObject(n)||_.isArray(n)?(_.each(n,function(n,r,i){i[r]=e(n,r,i,t)}),n):t(n)}var t={};this.init=function(e){t=_.extend(t,e),window.i18next.init(t)};var r=function(e){return function(n,t){return t=t||{},"string"==typeof t.ns&&""!==t.ns||(t.ns=e),window.i18next.t(n,t)}},i=function(e){var t=r(e);return function(e,r){return r=r||{},r.ignoreKeys=r.ignoreKeys||[],n(e,function(e,n,i){var o=e;return _.isString(e)&&!_.contains(r.ignoreKeys,n)&&(o=t(e,r)),o})}};this.$get=["$window",function(e){return{translate:e.i18next.t,getTranslateForNamespace:r,getTranslatorForNamespace:function(e){var n={translate:r(e),translateJson:i(e)};return n},getSupportedLanguages:function(){return t.languageData?t.languageData:[]},getActiveLanguage:function(){return t.lng?t.lng:t.fallbackLng}}}]}),function(e,n){var t=function(e,n,t,r){var i=[n,t];arguments.length>3&&(i=i.concat(r)),Array.prototype.splice.apply(e,i)},r=function(e,n){t(e,0,e.length,n)},i=function(e){t(e,0,e.length)};e.utils.spliceArray=t,e.utils.replaceArray=r,e.utils.clearArray=i}(angular.wilson,_),function(e,n){var t=[" Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.log(1024);e.utils.bytesToReadable=function(e,i){if(i=n.isNumber(i)?i:1,e=parseInt(e,10),0===e)return"0 Bytes";var o=parseInt(Math.floor(Math.log(e)/r),10),a=e/Math.pow(1024,o),s=0===o?a.toString():a.toFixed(i);return s=s.replace(/\.0+$/,""),s+" "+t[o]},e.utils.getMultipleColumnSort=function(e){return function(t,r){return n.reduce(e,function(e,n){if(0===e&&t&&r)switch(!0){case t[n]>r[n]:return 1;case t[n]<r[n]:return-1;case t[n]===r[n]:return 0}return e},0)}},e.utils.generateUUID=function(){var e=(new Date).getTime(),n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===n?t:7&t|8).toString(16)});return n}}(angular.wilson,_),function(e,n){e.utils.printStackTrace=function(){var e=new Error("dummy"),n=e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@").split("\n");console.log(n)}}(angular.wilson,_),function(e){e.utils.keyCodes={KEY_CANCEL:3,KEY_HELP:6,KEY_BACK_SPACE:8,KEY_TAB:9,KEY_CLEAR:12,KEY_RETURN:13,KEY_ENTER:14,KEY_SHIFT:16,KEY_CONTROL:17,KEY_ALT:18,KEY_PAUSE:19,KEY_CAPS_LOCK:20,KEY_ESCAPE:27,KEY_SPACE:32,KEY_PAGE_UP:33,KEY_PAGE_DOWN:34,KEY_END:35,KEY_HOME:36,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_PRINTSCREEN:44,KEY_INSERT:45,KEY_DELETE:46,KEY_0:48,KEY_1:49,KEY_2:50,KEY_3:51,KEY_4:52,KEY_5:53,KEY_6:54,KEY_7:55,KEY_8:56,KEY_9:57,KEY_SEMICOLON:186,KEY_SEMICOLON_FF:59,KEY_EQUALS:61,KEY_A:65,KEY_B:66,KEY_C:67,KEY_D:68,KEY_E:69,KEY_F:70,KEY_G:71,KEY_H:72,KEY_I:73,KEY_J:74,KEY_K:75,KEY_L:76,KEY_M:77,KEY_N:78,KEY_O:79,KEY_P:80,KEY_Q:81,KEY_R:82,KEY_S:83,KEY_T:84,KEY_U:85,KEY_V:86,KEY_W:87,KEY_X:88,KEY_Y:89,KEY_Z:90,KEY_CONTEXT_MENU:93,KEY_NUMPAD0:96,KEY_NUMPAD1:97,KEY_NUMPAD2:98,KEY_NUMPAD3:99,KEY_NUMPAD4:100,KEY_NUMPAD5:101,KEY_NUMPAD6:102,KEY_NUMPAD7:103,KEY_NUMPAD8:104,KEY_NUMPAD9:105,KEY_MULTIPLY:106,KEY_ADD:107,KEY_SEPARATOR:108,KEY_SUBTRACT:109,KEY_DECIMAL:110,KEY_DIVIDE:111,KEY_F1:112,KEY_F2:113,KEY_F3:114,KEY_F4:115,KEY_F5:116,KEY_F6:117,KEY_F7:118,KEY_F8:119,KEY_F9:120,KEY_F10:121,KEY_F11:122,KEY_F12:123,KEY_F13:124,KEY_F14:125,KEY_F15:126,KEY_F16:127,KEY_F17:128,KEY_F18:129,KEY_F19:130,KEY_F20:131,KEY_F21:132,KEY_F22:133,KEY_F23:134,KEY_F24:135,KEY_NUM_LOCK:144,KEY_SCROLL_LOCK:145,KEY_COMMA:188,KEY_HYPHEN:189,KEY_PERIOD:190,KEY_SLASH:191,KEY_BACK_QUOTE:192,KEY_OPEN_BRACKET:219,KEY_BACK_SLASH:220,KEY_CLOSE_BRACKET:221,KEY_QUOTE:222,KEY_META:224}}(angular.wilson),function(e,n){var t=function(e){for(var n in e)delete e[n]},r=function(e,r){t(e),n.extend(e,r)},i=function(e,n){var t=n.split("."),r=t.pop(),i=e;for(var o in t)"object"==typeof i&&(i=i[t[o]]);return"object"==typeof i?i[r]:void 0},o=function(e,n,t){var r=n.split("."),i=r.pop(),o=e;for(var a in r)"object"==typeof o&&(o=o[r[a]]);"object"==typeof o&&(o[i]=t)},a=function(e,t,r,i){r=r||[],i=i||[];var o=n.omit(n.pick(e,r),i),a=!0;return n.each(o,function(e,r){a=a&&n.isEqual(e,t[r])}),a};e.utils.clearObject=t,e.utils.replaceObject=r,e.utils.fieldsEqual=a,e.utils.setPropFromPath=o,e.utils.getPropFromPath=i}(angular.wilson,_),function(e,n){var t={detectBrowser:function(){var e={},t=function(e,n){var t=e.indexOf(n);if(t!==-1)return parseFloat(e.substring(t+n.length+1))},r=!1;return n.each(this.dataBrowser,function(n){if(r)e[n.identity.toLowerCase()]=!1;else{var i=n.string&&n.string.indexOf(n.subString)!==-1||n.prop&&n.prop.indexOf(n.subString)!==-1;i?(e[n.identity.toLowerCase()]=!0,r=!0,e.version=t(navigator.userAgent,n.versionSearch||n.identity)||t(navigator.appVersion,n.versionSearch||n.identity)):e[n.identity.toLowerCase()]=!1}}),e},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",identity:"OmniWeb",versionSearch:"OmniWeb/"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"MSIE",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};e.utils.browser=t.detectBrowser()}(angular.wilson,_),function(e,n){var t=function(e){var n=new Image;n.src=e+"?date="+(new Date).getTime()};angular.wilson.utils.sendPing=t}(angular.wilson,_),function(e,n){e.utils.parseBoolean=function(e){var n=String(e).toLowerCase();switch(n){case"false":case"nan":case"undefined":case"null":case"0":return!1}return!0}}(angular.wilson,_),function(e,n){var t=" /",r=function(e){return e?(e=String(e),decodeURIComponent(e.replace(/\+/g,"%20"))):""},i=function(){var e=null,r=n.toArray(arguments);if(r)if(1===r.length)e=r[0];else if(r.length>1){var i=[];i.push(n.trimEnd(r.shift(),t));var o=n.trimStart(r.pop(),t);n.each(r,function(e){i.push(n.trim(e,t))}),i.push(o),e=i.join("/")}return e},o={join:i};e.utils.path=o,e.utils.decodeURL=r}(angular.wilson,_);